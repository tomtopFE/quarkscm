var TT_NS=function(a,o){return a.dialog={init:function(){var a=this;a.globalCloseDialog(),a.operationDialog()},toastTime:{oToastTime:null,oCountdown:null},toast:function(l){var i=l||{},d=i.content||"There is no incoming message!",c=i.countdown||!1,n=i.time||3;if(0==o("#bm_toast").length){var t=o('<div id="bm_toast"><i></i><p></p></div>');o("body").append(t)}o("#bm_toast").find("i").text(n),o("#bm_toast").find("p").text(d),o("#bm_toast").animate({},function(){o("#bm_toast").addClass("show")}),c?(o("#bm_toast i").css("display","block"),clearInterval(a.dialog.oCountdown),a.dialog.oCountdown=setInterval(function(){o("#bm_toast i").text(--n)},1e3)):o("#bm_toast i").css("display","none"),clearTimeout(a.dialog.oToastTime),a.dialog.oToastTime=setTimeout(function(){o("#bm_toast").removeClass("show"),clearInterval(a.dialog.oCountdown),clearInterval(a.dialog.oToastTime)},1e3*n)},openDialogBg:function(a){var l=a||{},i=o('<div class="bm_dialogBg"></div>');l.css&&i.css(l.css),o("body").append(i)},dialogBg:function(l,i){!1===l?o(".bm_dialogBg").last().remove():!0===l?a.dialog.openDialogBg(i):0==o(".bm_dialogBg").length?a.dialog.openDialogBg(i):o(".bm_dialogBg").last().remove()},callbackFn:{callback:!1,fn:function(){}},alert:function(l,i){var d=l||{},c=d.addClass||"",n=d.content||"没有内容",t=d.btnText||"OK",s=d.shake||!1,e=o('<div class="bm_dialog alert dialog_show '+c+'"><i></i><div class="dialog_c"><div class="dialog_body">'+n+'</div><div class="dialog_foot"><input type="button" value="'+t+'" class="bm_btn confirm cancel" /></div></div></div>');s&&e.addClass("shakeX"),a.dialog.dialogBg(!0),o("body").append(e),a.dialog.callbackFn.callback=!1,i&&(a.dialog.callbackFn.callback=!0,a.dialog.callbackFn.fn=i)},confirm:function(l,i){var d=l||{},c=d.addClass||"",n=d.title||!1,t=d.content||"没有内容",s=d.btnTextA||"YES",e=d.btnTextB||"OK",g=d.shake||!1,b=null,b=o('<div class="bm_dialog confirm dialog_show '+c+'"><i></i><div class="dialog_c"><div class="dialog_head">'+n+'</div><div class="dialog_body">'+t+'</div><div class="dialog_foot clearfix"><input type="button" value="'+s+'" class="bm_btn_A minor cancel false" /><input type="button" value="'+e+'" class="bm_btn confirm true" /></div></div>');n||b.find(".dialog_head").remove(),g&&b.addClass("shakeX"),a.dialog.dialogBg(!0),o("body").append(b),a.dialog.callbackFn.callback=!1,i&&(a.dialog.callbackFn.callback=!0,a.dialog.callbackFn.fn=i)},prompt:function(l,i){var d=l||{},c=d.addClass||"",n=d.title||!1,t=d.content||"请输入...",s=d.btnText||"Submit",e=d.shake||!1,g=o('<div class="bm_dialog prompt dialog_show '+c+'"><i></i><div class="dialog_c"><div class="dialog_head">'+n+'</div><div class="dialog_body"><textarea>'+t+'</textarea></div><div class="dialog_foot"><input type="button" value="'+s+'" class="bm_btn caution" /></div><i class="icon pc-icon-close close_dialog"></i></div></div>');n||g.find(".dialog_head").remove(),e&&g.addClass("shakeX"),a.dialog.dialogBg(!0),o("body").append(g),a.dialog.callbackFn.callback=!1,i&&(a.dialog.callbackFn.callback=!0,a.dialog.callbackFn.fn=i)},custom:function(l,i){var d=l||{},c=d.addClass||"",n=d.content||"请输入...",t=d.mask&&!0,s=o('<div class="bm_dialog custom dialog_show '+c+'"><i></i><div class="dialog_c">'+n+'<i class="icon icon-close close_dialog"></i></div></div>');t&&a.dialog.dialogBg(!0),o("body").append(s)},closeDialog:function(o){o.hasClass("alert")||o.hasClass("confirm")||o.hasClass("prompt")||o.hasClass("custom")?(o.remove(),a.dialog.callbackFn.callback&&a.dialog.callbackFn.fn(!1)):o.removeClass("dialog_show"),a.dialog.dialogBg(!1)},globalCloseDialog:function(){o(document).on("click",".bm_dialog",function(){a.dialog.closeDialog(o(this))}),o(document).on("click",".close_dialog",function(){var l=o(this).parents(".bm_dialog");a.dialog.closeDialog(l)}),o(document).on("click",".dialog_c",function(a){a.stopPropagation()}),o(document).on("click",".bm_dialogBg",function(){o(".hide_l,.hide_t,.hide_r,.hide_b").removeClass("show"),a.dialog.dialogBg(!1)}),o(document).on("click",".close_show",function(){o(".hide_l,.hide_t,.hide_r,.hide_b").removeClass("show"),a.dialog.dialogBg(!1)})},operationDialog:function(){o(document).on("click",".alert .dialog_foot .bm_btn",function(){o(this).parents(".bm_dialog").remove(),a.dialog.dialogBg(!1),a.dialog.callbackFn.callback&&a.dialog.callbackFn.fn(!0)}),o(document).on("click",".bm_dialog .true",function(){if(o(this).parents(".bm_dialog").hasClass("confirm")){var l=o(this).parents(".confirm");a.dialog.callbackFn.callback&&a.dialog.callbackFn.fn(!0,l)}else a.dialog.callbackFn.callback&&a.dialog.callbackFn.fn(!0);a.dialog.dialogBg(!1),o(this).parents(".bm_dialog").remove()}),o(document).on("click",".bm_dialog .false",function(){o(this).parents(".bm_dialog").remove(),a.dialog.dialogBg(!1),a.dialog.callbackFn.callback&&a.dialog.callbackFn.fn(!1)}),o(document).on("click",".prompt .dialog_foot .bm_btn",function(){o(this).parents(".bm_dialog").remove(),a.dialog.dialogBg(!1);var l=o(this).parents(".bm_dialog").find("textarea").val();a.dialog.callbackFn.callback&&a.dialog.callbackFn.fn(l)})}},a.dialog.init(),a}(window.TT_NS||{},jQuery);