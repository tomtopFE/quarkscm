var TT_NS=TT_NS||{},TT_NS=function(b,a){b.dialog={init:function(){this.globalCloseDialog();this.operationDialog()},toastTime:{oToastTime:null,oCountdown:null},toast:function(d){var e=d||{};d=e.content||"There is no incoming message!";var c=e.countdown||!1,f=e.time||3;0==a("#bm_toast").length&&(e=a('\x3cdiv id\x3d"bm_toast"\x3e\x3ci\x3e\x3c/i\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e'),a("body").append(e));a("#bm_toast").find("i").text(f);a("#bm_toast").find("p").text(d);a("#bm_toast").animate({},function(){a("#bm_toast").addClass("show")});c?(a("#bm_toast i").css("display","block"),clearInterval(b.dialog.oCountdown),b.dialog.oCountdown=setInterval(function(){a("#bm_toast i").text(--f)},1E3)):a("#bm_toast i").css("display","none");clearTimeout(b.dialog.oToastTime);b.dialog.oToastTime=setTimeout(function(){a("#bm_toast").removeClass("show");clearInterval(b.dialog.oCountdown);clearInterval(b.dialog.oToastTime)},1E3*f)},openDialogBg:function(b){b=b||{};var d=a('\x3cdiv class\x3d"bm_dialogBg"\x3e\x3c/div\x3e');b.css&&d.css(b.css);a("body").append(d)},dialogBg:function(d,e){!1===d?a(".bm_dialogBg").last().remove():!0===d?b.dialog.openDialogBg(e):0==a(".bm_dialogBg").length?b.dialog.openDialogBg(e):a(".bm_dialogBg").last().remove()},callbackFn:{callback:!1,fn:function(){}},alert:function(d,e){var c=d||{},f=c.shake||!1,c=a('\x3cdiv class\x3d"bm_dialog alert dialog_show '+(c.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e\x3cdiv class\x3d"dialog_body"\x3e'+(c.content||"\u6ca1\u6709\u5185\u5bb9")+'\x3c/div\x3e\x3cdiv class\x3d"dialog_foot"\x3e\x3cinput type\x3d"button" value\x3d"'+(c.btnText||"OK")+'" class\x3d"bm_btn confirm cancel" /\x3e\x3c/div\x3e\x3ci class\x3d"icon_cross close close_dialog"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e');f&&c.addClass("shakeX");b.dialog.dialogBg(!0);a("body").append(c);b.dialog.callbackFn.callback=!1;e&&(b.dialog.callbackFn.callback=!0,b.dialog.callbackFn.fn=e)},confirm:function(d,e){var c=d||{},f=c.title||!1,g=c.shake||!1,c=a('\x3cdiv class\x3d"bm_dialog confirm dialog_show '+(c.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e\x3cdiv class\x3d"dialog_head"\x3e'+f+'\x3c/div\x3e\x3cdiv class\x3d"dialog_body"\x3e'+(c.content||"\u6ca1\u6709\u5185\u5bb9")+'\x3c/div\x3e\x3cdiv class\x3d"dialog_foot clearfix"\x3e\x3cinput type\x3d"button" value\x3d"'+(c.btnTextA||"YES")+'" class\x3d"bm_btn_A minor cancel false" /\x3e\x3cinput type\x3d"button" value\x3d"'+(c.btnTextB||"OK")+'" class\x3d"bm_btn confirm true" /\x3e\x3c/div\x3e\x3c/div\x3e');f||c.find(".dialog_head").remove();g&&c.addClass("shakeX");b.dialog.dialogBg(!0);a("body").append(c);b.dialog.callbackFn.callback=!1;e&&(b.dialog.callbackFn.callback=!0,b.dialog.callbackFn.fn=e)},prompt:function(d,e){var c=d||{},f=c.title||!1,g=c.shake||!1,c=a('\x3cdiv class\x3d"bm_dialog prompt dialog_show '+(c.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e\x3cdiv class\x3d"dialog_head"\x3e'+f+'\x3c/div\x3e\x3cdiv class\x3d"dialog_body"\x3e\x3ctextarea id\x3d'+(c.id||"")+' placeholder\x3d"'+(c.placeholder||"placeholder")+'"\x3e'+(c.content||"")+'\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog_foot"\x3e\x3cinput type\x3d"button" value\x3d"'+(c.btnTextA||"cancel")+'" class\x3d"bm_btn_A minor cancel false" /\x3e\x3cinput type\x3d"button" value\x3d"'+(c.btnText||"Submit")+'" class\x3d"bm_btn caution" /\x3e\x3c/div\x3e\x3ci class\x3d"icon_cross close close_dialog"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e');f||c.find(".dialog_head").remove();g&&c.addClass("shakeX");b.dialog.dialogBg(!0);a("body").append(c);b.dialog.callbackFn.callback=!1;e&&(b.dialog.callbackFn.callback=!0,b.dialog.callbackFn.fn=e)},custom:function(d,e){var c=d||{},c=a('\x3cdiv class\x3d"bm_dialog custom dialog_show '+(c.addClass||"")+'"\x3e\x3ci\x3e\x3c/i\x3e\x3cdiv class\x3d"dialog_c"\x3e'+(c.content||"\u8bf7\u8f93\u5165...")+'\x3ci class\x3d"icon_cross close close_dialog"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e');b.dialog.dialogBg(!0);a("body").append(c)},closeDialog:function(a){a.hasClass("alert")||a.hasClass("confirm")||a.hasClass("prompt")||a.hasClass("custom")?(a.remove(),b.dialog.callbackFn.fn(!1)):a.removeClass("dialog_show");b.dialog.dialogBg(!1)},globalCloseDialog:function(){a(document).on("click",".bm_dialog",function(){"off"!==a(this).attr("data-click-close")&&b.dialog.closeDialog(a(this))});a(document).on("click",".close_dialog",function(){var d=a(this).parents(".bm_dialog");b.dialog.closeDialog(d)});a(document).on("click",".dialog_c",function(a){a.stopPropagation()});a(document).on("click",".bm_dialogBg",function(){a(".hide_l,.hide_t,.hide_r,.hide_b").removeClass("show");b.dialog.dialogBg(!1)});a(document).on("click",".close_show",function(){a(".hide_l,.hide_t,.hide_r,.hide_b").removeClass("show");b.dialog.dialogBg(!1)})},operationDialog:function(){a(document).on("click",".alert .dialog_foot .bm_btn",function(){a(this).parents(".bm_dialog").remove();b.dialog.dialogBg(!1);b.dialog.callbackFn.callback&&b.dialog.callbackFn.fn(!0)});a(document).on("click",".bm_dialog .true",function(){a(this).parents(".bm_dialog").remove();b.dialog.dialogBg(!1);b.dialog.callbackFn.callback&&b.dialog.callbackFn.fn(!0)});a(document).on("click",".bm_dialog .false",function(){a(this).parents(".bm_dialog").remove();b.dialog.dialogBg(!1);b.dialog.callbackFn.callback&&b.dialog.callbackFn.fn(!1)});a(document).on("click",".prompt .dialog_foot .bm_btn",function(){a(this).parents(".bm_dialog").remove();b.dialog.dialogBg(!1);var d=a(this).parents(".bm_dialog").find("textarea").val();b.dialog.callbackFn.callback&&b.dialog.callbackFn.fn(d)})}};b.dialog.init();return b}(window.TT_NS||{},jQuery);